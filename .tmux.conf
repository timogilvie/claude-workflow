# Track activity and bells
set -g monitor-activity on
set -g monitor-bell on

# Visual indicators in status bar (off = rely on window-status styles only, no status-bar messages)
set -g visual-activity off
set -g visual-bell off

# Style for windows needing attention
set -g window-status-activity-style fg=yellow,bold
set -g window-status-bell-style fg=red,bold

# Key binding to jump to next window with activity or bell
# Uses tmux -f filter instead of awk to avoid shell quoting issues
bind-key -n C-g run-shell '\
  target=$(tmux list-windows -f "#{window_bell_flag}" -F "#{window_index}" | head -1); \
  if [ -z "$target" ]; then \
    target=$(tmux list-windows -f "#{window_activity_flag}" -F "#{window_index}" | head -1); \
  fi; \
  [ -n "$target" ] && tmux select-window -t "$target" \
'
